

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Getting started with SonataAdminBundle &mdash; Sonata ~ AdminBundle  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Sonata ~ AdminBundle  documentation" href="../index.html"/>
        <link rel="next" title="3. Configuration" href="configuration.html"/>
        <link rel="prev" title="1. Installation" href="installation.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Sonata ~ AdminBundle</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#downloading-the-code">1.1. Downloading the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#selecting-and-downloading-a-storage-bundle">1.2. Selecting and downloading a storage bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#enabling-sonataadminbundle-and-its-dependencies">1.3. Enabling SonataAdminBundle and its dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#configuring-sonataadminbundle-dependencies">1.4. Configuring SonataAdminBundle dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#cleaning-up">1.5. Cleaning up</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">2. Getting started with SonataAdminBundle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#step-1-define-sonataadminbundle-routes">2.1. Step 1: Define SonataAdminBundle routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-2-create-an-admin-class">2.2. Step 2: Create an Admin class</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-3-create-an-admin-service">2.3. Step 3: Create an Admin service</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-4-configuration">2.4. Step 4: Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#next-steps-security">2.5. Next steps - Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">3. Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#id1">3.1. Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#full-configuration-options">3.2. Full Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">4. Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#the-admin-class">4.1. The Admin Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#crudcontroller">4.2. CRUDController</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#fields-definition">4.3. Fields Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#templates">4.4. Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#managing-admin-service">4.5. Managing <tt class="docutils literal"><span class="pre">Admin</span></tt> Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#create-child-admins">4.6. Create child admins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">5. Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#blocks">5.1. Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#the-admin-list-block">5.2. The <tt class="docutils literal"><span class="pre">Admin</span></tt> list block</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#configuring-the-admin-list">5.3. Configuring the <tt class="docutils literal"><span class="pre">Admin</span></tt> list</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#adding-more-blocks">5.4. Adding more Blocks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="search.html">6. Search</a><ul>
<li class="toctree-l2"><a class="reference internal" href="search.html#customization">6.1. Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="search.html#performance">6.2. Performance</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_list.html">7. The List View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_list.html#basic-configuration">7.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_list.html#customizing-the-fields-displayed-on-the-list-page">7.2. Customizing the fields displayed on the list page</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_list.html#customizing-the-query-used-to-generate-the-list">7.3. Customizing the query used to generate the list</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_list.html#customizing-the-sort-order">7.4. Customizing the sort order</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_list.html#filters">7.5. Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_create_edit.html">8. Creating and Editing objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#basic-configuration">8.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#embedding-other-admins">8.2. Embedding other Admins</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#customizing-just-one-of-the-actions">8.3. Customizing just one of the actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_show.html">9. The Show action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_show.html#basic-configuration">9.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_show.html#customising-the-query-used-to-show-the-object-from-within-your-admin-class">9.2. Customising the query used to show the object from within your Admin class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_show.html#setting-up-a-custom-show-template-very-useful">10. Setting up a custom show template (very useful)</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_delete.html">11. Deleting objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_delete.html#basic-configuration">11.1. Basic configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_export.html">12. The Export action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_export.html#basic-configuration">12.1. Basic configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saving_hooks.html">13. Saving hooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saving_hooks.html#example-used-with-the-fos-userbundle">13.1. Example used with the FOS/UserBundle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="form_types.html">14. Form Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="form_types.html#admin-related-form-types">14.1. Admin related form types</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_types.html#types-options">14.2. Types options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="form_help_message.html">15. Form Help Messages and Descriptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="form_help_message.html#help-messages">15.1. Help Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_help_message.html#form-group-descriptions">15.2. Form Group Descriptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="field_types.html">16. Field Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="field_types.html#list-and-show-actions">16.1. List and Show Actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="batch_actions.html">17. Batch actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#defining-new-actions">17.1. Defining new actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-overriding-the-batch-selection-template">17.2. (Optional) Overriding the batch selection template</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-overriding-the-default-relevancy-check-function">17.3. (Optional) Overriding the default relevancy check function</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-executing-a-pre-batch-hook">17.4. (Optional) Executing a pre batch hook</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#define-the-core-action-logic">17.5. Define the core action logic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="console.html">18. Console/Command-Line Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="console.html#cache-create-cache-class">18.1. cache:create-cache-class</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-generate">18.2. sonata:admin:generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-list">18.3. sonata:admin:list</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-explain">18.4. sonata:admin:explain</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-setup-acl">18.5. sonata:admin:setup-acl</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-generate-object-acl">18.6. sonata:admin:generate-object-acl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">19. Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#the-tostring-method">19.1. The toString method</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#large-filters-and-long-urls-problem">19.2. Large filters and long urls problem</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="routing.html">1. Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="routing.html#routing-definition">1.1. Routing Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#routing-usage">1.2. Routing usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#create-a-route">1.3. Create a route</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#removing-a-route">1.4. Removing a route</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#persistent-parameters">1.5. Persistent parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#changing-the-default-route-in-a-list-action">1.6. Changing the default route in a List Action</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">2. Translation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="translation.html#translate-field-labels">2.1. Translate field labels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conditional_validation.html">3. Inline Validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conditional_validation.html#troubleshooting">3.1. Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">4. Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="templates.html#global-templates">4.1. Global Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#dashboard-template">4.2. Dashboard Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#crudcontroller-actions-templates">4.3. CRUDController Actions Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#row-templates">4.4. Row Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#other-templates">4.5. Other Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#configuring-templates">4.6. Configuring templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">5. Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#user-management">5.1. User management</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#security-handlers">5.2. Security handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#role-handler">5.3. Role handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#acl-and-friendsofsymfony-userbundle">5.4. ACL and FriendsOfSymfony/UserBundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#acl-editor">5.5. ACL editor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">6. Extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extensions.html#configuration">6.1. Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">7. Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#configureevent">7.1. ConfigureEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#persistenceevent">7.2. PersistenceEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#configurequeryevent">7.3. ConfigureQueryEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#blockevent">7.4. BlockEvent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_configuration.html">8. Advanced configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#service-configuration">8.1. Service Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#inherited-classes">8.2. Inherited classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#dropdowns-in-tab-menu">8.3. Dropdowns in Tab Menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#disable-content-stretching">8.4. Disable content stretching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preview_mode.html">9. Preview Mode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preview_mode.html#simulating-front-end-rendering">9.1. Simulating front-end rendering</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_select2.html">1. Select2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#disable-select2">1.1. Disable select2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#disable-select2-on-some-form-elements">1.2. Disable select2 on some form elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#allowclear">1.3. AllowClear</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_knp_menu.html">2. KnpMenu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_knp_menu.html#add-a-custom-controller-entry-in-the-menu">2.1. Add a custom controller entry in the menu</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_file_uploads.html">3. Uploading and saving documents (including images) using DoctrineORM and SonataAdmin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#pre-requisites">3.1. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#the-recipe">3.2. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#notes">3.3. Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_image_previews.html">4. Showing image previews</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#pre-requisites">4.1. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#the-recipe">4.2. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#notes">4.3. Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_row_templates.html">5. Row templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_row_templates.html#the-recipe">5.1. The recipe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html">6. Sortable behavior in admin listing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#background">6.1. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#pre-requisites">6.2. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#the-recipe">6.3. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#further-work">6.4. Further work</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_dynamic_form_modification.html">7. Modifying form fields dynamically depending on edited object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_custom_action.html">8. Creating a Custom Admin Action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_custom_action.html#the-recipe">8.1. The recipe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_customizing_a_mosaic_list.html">9. Customizing a mosaic list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_overwrite_admin_configuration.html">10. Overwrite Admin Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_improve_performance_large_datasets.html">11. Improve performance of large datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_improve_performance_large_datasets.html#change-default-pager-to-simplepager">11.1. Change default Pager to SimplePager</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Sonata ~ AdminBundle</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>2. Getting started with SonataAdminBundle</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/reference/getting_started.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="getting-started-with-sonataadminbundle">
<h1>2. Getting started with SonataAdminBundle<a class="headerlink" href="#getting-started-with-sonataadminbundle" title="Permalink to this headline">¶</a></h1>
<p>If you followed the installation instructions, SonataAdminBundle should be installed
but inaccessible. You first need to configure it for your models before you can
start using it. Here is a quick checklist of what is needed to quickly setup
SonataAdminBundle and create your first admin interface for the models of your application:</p>
<ul class="simple">
<li>Step 1: Define SonataAdminBundle routes</li>
<li>Step 2: Create an Admin class</li>
<li>Step 3: Create an Admin service</li>
<li>Step 4: Configuration</li>
</ul>
<div class="section" id="step-1-define-sonataadminbundle-routes">
<h2>2.1. Step 1: Define SonataAdminBundle routes<a class="headerlink" href="#step-1-define-sonataadminbundle-routes" title="Permalink to this headline">¶</a></h2>
<p>To be able to access SonataAdminBundle&#8217;s pages, you need to add its routes
to your application&#8217;s routing file:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">admin</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&#39;@SonataAdminBundle/Resources/config/routing/sonata_admin.xml&#39;</span>
    <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/admin</span>

<span class="l-Scalar-Plain">_sonata_admin</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">.</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">sonata_admin</span>
    <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">/admin</span>
</pre></div>
</div>
</li>
</ul>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you&#8217;re using XML or PHP to specify your application&#8217;s configuration,
the above routing configuration must be placed in routing.xml or
routing.php according to your format (i.e. XML or PHP).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For those curious about the <tt class="docutils literal"><span class="pre">resource:</span> <span class="pre">.</span></tt> setting: it is unusual syntax but used
because Symfony requires a resource to be defined (which points to a real file).
Once this validation passes Sonata&#8217;s <tt class="docutils literal"><span class="pre">AdminPoolLoader</span></tt> is in charge of processing
this route and it simply ignores the resource setting.</p>
</div>
<p>At this point you can already access the (empty) admin dashboard by visiting the url:
<tt class="docutils literal"><span class="pre">http://yoursite.local/admin/dashboard</span></tt>.</p>
</div>
<div class="section" id="step-2-create-an-admin-class">
<h2>2.2. Step 2: Create an Admin class<a class="headerlink" href="#step-2-create-an-admin-class" title="Permalink to this headline">¶</a></h2>
<p>SonataAdminBundle helps you manage your data using a graphic interface that
will let you create, update or search your model&#8217;s instances. Those actions need to
be configured, which is done using an Admin class.</p>
<p>An Admin class represents the mapping of your model to each administration action.
In it, you decide which fields to show on a listing, which to use as filters or what
to show in a creation or edition form.</p>
<p>The easiest way to create an Admin class for your model is to extend
the <tt class="docutils literal"><span class="pre">Sonata\AdminBundle\Admin\Admin</span></tt> class.</p>
<p>Suppose your AcmeDemoBundle has a Post entity. This is how a basic Admin class
for it could look like:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// src/Acme/DemoBundle/Admin/PostAdmin.php</span>

<span class="k">namespace</span> <span class="nx">Acme\DemoBundle\Admin</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Admin\Admin</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Datagrid\ListMapper</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Datagrid\DatagridMapper</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Form\FormMapper</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PostAdmin</span> <span class="k">extends</span> <span class="nx">Admin</span>
<span class="p">{</span>
    <span class="c1">// Fields to be shown on create/edit forms</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">configureFormFields</span><span class="p">(</span><span class="nx">FormMapper</span> <span class="nv">$formMapper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$formMapper</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;text&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;label&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Post Title&#39;</span><span class="p">))</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">,</span> <span class="s1">&#39;entity&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;class&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Acme\DemoBundle\Entity\User&#39;</span><span class="p">))</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)</span> <span class="c1">//if no type is specified, SonataAdminBundle tries to guess it</span>
        <span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Fields to be shown on filter forms</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">configureDatagridFilters</span><span class="p">(</span><span class="nx">DatagridMapper</span> <span class="nv">$datagridMapper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$datagridMapper</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">)</span>
        <span class="p">;</span>
    <span class="p">}</span>

    <span class="c1">// Fields to be shown on lists</span>
    <span class="k">protected</span> <span class="k">function</span> <span class="nf">configureListFields</span><span class="p">(</span><span class="nx">ListMapper</span> <span class="nv">$listMapper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$listMapper</span>
            <span class="o">-&gt;</span><span class="na">addIdentifier</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;author&#39;</span><span class="p">)</span>
        <span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Implementing these three functions is the first step to creating an Admin class.
Other options are available, that will let you further customize the way your model
is shown and handled. Those will be covered in more advanced chapters of this manual.</p>
</div>
<div class="section" id="step-3-create-an-admin-service">
<h2>2.3. Step 3: Create an Admin service<a class="headerlink" href="#step-3-create-an-admin-service" title="Permalink to this headline">¶</a></h2>
<p>Now that you have created your Admin class, you need to create a service for it. This
service needs to have the <tt class="docutils literal"><span class="pre">sonata.admin</span></tt> tag, which is your way of letting
SonataAdminBundle know that this particular service represents an Admin class:</p>
<p>Create either a new <tt class="docutils literal"><span class="pre">admin.xml</span></tt> or <tt class="docutils literal"><span class="pre">admin.yml</span></tt> file inside the <tt class="docutils literal"><span class="pre">Acme/DemoBundle/Resources/config/</span></tt> folder:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre><span class="c">&lt;!-- Acme/DemoBundle/Resources/config/admin.xml --&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services/services-1.0.xsd&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;services&gt;</span>
       <span class="nt">&lt;service</span> <span class="na">id=</span><span class="s">&quot;sonata.admin.post&quot;</span> <span class="na">class=</span><span class="s">&quot;Acme\DemoBundle\Admin\PostAdmin&quot;</span><span class="nt">&gt;</span>
          <span class="nt">&lt;tag</span> <span class="na">name=</span><span class="s">&quot;sonata.admin&quot;</span> <span class="na">manager_type=</span><span class="s">&quot;orm&quot;</span> <span class="na">group=</span><span class="s">&quot;Content&quot;</span> <span class="na">label=</span><span class="s">&quot;Post&quot;</span><span class="nt">/&gt;</span>
          <span class="nt">&lt;argument</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;argument&gt;</span>Acme\DemoBundle\Entity\Post<span class="nt">&lt;/argument&gt;</span>
          <span class="nt">&lt;argument</span> <span class="nt">/&gt;</span>
          <span class="nt">&lt;call</span> <span class="na">method=</span><span class="s">&quot;setTranslationDomain&quot;</span><span class="nt">&gt;</span>
              <span class="nt">&lt;argument&gt;</span>AcmeDemoBundle<span class="nt">&lt;/argument&gt;</span>
          <span class="nt">&lt;/call&gt;</span>
      <span class="nt">&lt;/service&gt;</span>
   <span class="nt">&lt;/services&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># Acme/DemoBundle/Resources/config/admin.yml</span>
<span class="l-Scalar-Plain">services</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">sonata.admin.post</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">class</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Acme\DemoBundle\Admin\PostAdmin</span>
        <span class="l-Scalar-Plain">tags</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="p-Indicator">{</span> <span class="nv">name</span><span class="p-Indicator">:</span> <span class="nv">sonata.admin</span><span class="p-Indicator">,</span> <span class="nv">manager_type</span><span class="p-Indicator">:</span> <span class="nv">orm</span><span class="p-Indicator">,</span> <span class="nv">group</span><span class="p-Indicator">:</span> <span class="s">&quot;Content&quot;</span><span class="p-Indicator">,</span> <span class="nv">label</span><span class="p-Indicator">:</span> <span class="s">&quot;Post&quot;</span> <span class="p-Indicator">}</span>
        <span class="l-Scalar-Plain">arguments</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">~</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">Acme\DemoBundle\Entity\Post</span>
            <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">~</span>
        <span class="l-Scalar-Plain">calls</span><span class="p-Indicator">:</span>
            <span class="p-Indicator">-</span> <span class="p-Indicator">[</span> <span class="nv">setTranslationDomain</span><span class="p-Indicator">,</span> <span class="p-Indicator">[</span><span class="nv">AcmeDemoBundle</span><span class="p-Indicator">]]</span>
</pre></div>
</div>
</li>
</ul>
</div>
<p>Example above assumes that you&#8217;re using SonataDoctrineORMAdminBundle. If you&#8217;re using SonataDoctrineMongoDBAdminBundle, SonataPropelAdminBundle or SonataDoctrinePhpcrAdminBundle instead, set <tt class="docutils literal"><span class="pre">manager_type</span></tt> option to <tt class="docutils literal"><span class="pre">doctrine_mongodb</span></tt>, <tt class="docutils literal"><span class="pre">propel</span></tt> or <tt class="docutils literal"><span class="pre">doctrine_phpcr</span></tt> respectively.</p>
<p>The basic configuration of an Admin service is quite simple. It creates a service
instance based on the class you specified before, and accepts three arguments:</p>
<blockquote>
<div><ol class="arabic simple">
<li>The Admin service&#8217;s code (defaults to the service&#8217;s name)</li>
<li>The model which this Admin class maps (required)</li>
<li>The controller that will handle the administration actions (defaults to <tt class="docutils literal"><span class="pre">SonataAdminBundle:CRUDController()</span></tt>)</li>
</ol>
</div></blockquote>
<p>Usually you just need to specify the second argument, as the first and third&#8217;s default
values will work for most scenarios.</p>
<p>The <tt class="docutils literal"><span class="pre">setTranslationDomain</span></tt> call lets you choose which translation domain to use when
translating labels on the admin pages. More info on the <a class="reference external" href="http://symfony.com/doc/current/book/translation.html#using-message-domains">symfony translations page</a>.</p>
<p>Now that you have a configuration file with your admin service, you just need to tell
Symfony2 to load it. There are two ways to do so:</p>
<div class="section" id="importing-it-in-the-main-config-yml">
<h3>2.3.1. 1 - Importing it in the main config.yml<a class="headerlink" href="#importing-it-in-the-main-config-yml" title="Permalink to this headline">¶</a></h3>
<p>Include your new configuration file in the main <tt class="docutils literal"><span class="pre">config.yml</span></tt> (make sure that you
use the correct file extension):</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre># app/config/config.yml
imports:
    - { resource: @AcmeDemoBundle/Resources/config/admin.xml }
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="have-your-bundle-load-it">
<h3>2.3.2. 2 - Have your bundle load it<a class="headerlink" href="#have-your-bundle-load-it" title="Permalink to this headline">¶</a></h3>
<p>You can also have your bundle load the admin configuration file. Inside your bundle&#8217;s extension
file, using the <tt class="docutils literal"><span class="pre">load()</span></tt> method as described in the <a class="reference external" href="http://symfony.com/doc/master/cookbook/bundles/extension.html#using-the-load-method">symfony cookbook</a>.</p>
<div class="configuration-block">
<ul class="simple">
<li><em>XML</em><div class="highlight-xml"><div class="highlight"><pre># Acme/DemoBundle/DependencyInjection/AcmeDemoBundleExtension.php for XML configurations

namespace Acme\DemoBundle\DependencyInjection;

use Symfony\Component\DependencyInjection\Loader;
use Symfony\Component\Config\FileLocator;

class AcmeDemoBundleExtension extends Extension
{
    public function load(array $configs, ContainerBuilder $container) {
        // ...
        $loader = new Loader\XmlFileLoader($container, new FileLocator(__DIR__.&#39;/../Resources/config&#39;));
        $loader-&gt;load(&#39;admin.xml&#39;);
    }
}
</pre></div>
</div>
</li>
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># Acme/DemoBundle/DependencyInjection/AcmeDemoBundleExtension.php for YAML configurations</span>

<span class="l-Scalar-Plain">namespace Acme\DemoBundle\DependencyInjection;</span>

<span class="l-Scalar-Plain">use Symfony\Component\DependencyInjection\Loader;</span>
<span class="l-Scalar-Plain">use Symfony\Component\Config\FileLocator;</span>

<span class="l-Scalar-Plain">class AcmeDemoBundleExtension extends Extension</span>
<span class="l-Scalar-Plain">{</span>
    <span class="l-Scalar-Plain">public function load(array $configs, ContainerBuilder $container) {</span>
        <span class="l-Scalar-Plain">// ...</span>
        <span class="l-Scalar-Plain">$loader = new Loader\YamlFileLoader($container, new FileLocator(__DIR__.&#39;/../Resources/config&#39;));</span>
        <span class="l-Scalar-Plain">$loader-&gt;load(&#39;admin.yml&#39;);</span>
    <span class="l-Scalar-Plain">}</span>
<span class="l-Scalar-Plain">}</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="section" id="step-4-configuration">
<h2>2.4. Step 4: Configuration<a class="headerlink" href="#step-4-configuration" title="Permalink to this headline">¶</a></h2>
<p>At this point you have basic administration actions for your model. If you visit <tt class="docutils literal"><span class="pre">http://yoursite.local/admin/dashboard</span></tt> again, you should now see a panel with
your mapped model. You can start creating, listing, editing and deleting instances.</p>
<p>You probably want to put your own project&#8217;s name and logo on the top bar.</p>
<p>Put your logo file here <tt class="docutils literal"><span class="pre">src/Acme/DemoBundle/Resources/public/img/fancy_acme_logo.png</span></tt></p>
<p>Install your assets:</p>
<div class="highlight-sh"><div class="highlight"><pre><span class="nv">$ </span>php app/console assets:install
</pre></div>
</div>
<p>Now you can change your project&#8217;s main config.yml file:</p>
<div class="configuration-block">
<ul class="simple">
<li><em>YAML</em><div class="highlight-yaml"><div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">sonata_admin</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">title</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">Acme Demo Bundle</span>
    <span class="l-Scalar-Plain">title_logo</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bundles/acmedemo/img/fancy_acme_logo.png</span>
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="next-steps-security">
<h2>2.5. Next steps - Security<a class="headerlink" href="#next-steps-security" title="Permalink to this headline">¶</a></h2>
<p>As you probably noticed, you were able to access your dashboard and data by just
typing in the URL. By default, the SonataAdminBundle does not come with any user
management for ultimate flexibility. However, it is most likely that your application
requires such a feature. The Sonata Project includes a <tt class="docutils literal"><span class="pre">SonataUserBundle</span></tt> which
integrates the very popular <tt class="docutils literal"><span class="pre">FOSUserBundle</span></tt>. Please refer to the <a class="reference internal" href="security.html"><em>Security</em></a> section of
this documentation for more information.</p>
<p>Congratulations! You are ready to start using SonataAdminBundle. You can now map
additional models or explore advanced functionalities. The following sections will
each address a specific section or functionality of the bundle, giving deeper
details on what can be configured and achieved with SonataAdminBundle.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="3. Configuration"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="installation.html" class="btn btn-neutral" title="1. Installation"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2014, Thomas Rabaix.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>