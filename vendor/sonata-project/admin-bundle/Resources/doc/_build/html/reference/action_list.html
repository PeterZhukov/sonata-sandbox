

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7. The List View &mdash; Sonata ~ AdminBundle  documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Sonata ~ AdminBundle  documentation" href="../index.html"/>
        <link rel="next" title="8. Creating and Editing objects" href="action_create_edit.html"/>
        <link rel="prev" title="6. Search" href="search.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> Sonata ~ AdminBundle</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">1. Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#downloading-the-code">1.1. Downloading the code</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#selecting-and-downloading-a-storage-bundle">1.2. Selecting and downloading a storage bundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#enabling-sonataadminbundle-and-its-dependencies">1.3. Enabling SonataAdminBundle and its dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#configuring-sonataadminbundle-dependencies">1.4. Configuring SonataAdminBundle dependencies</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#cleaning-up">1.5. Cleaning up</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">2. Getting started with SonataAdminBundle</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#step-1-define-sonataadminbundle-routes">2.1. Step 1: Define SonataAdminBundle routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#step-2-create-an-admin-class">2.2. Step 2: Create an Admin class</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#step-3-create-an-admin-service">2.3. Step 3: Create an Admin service</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#step-4-configuration">2.4. Step 4: Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started.html#next-steps-security">2.5. Next steps - Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">3. Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#id1">3.1. Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="configuration.html#full-configuration-options">3.2. Full Configuration Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">4. Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#the-admin-class">4.1. The Admin Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#crudcontroller">4.2. CRUDController</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#fields-definition">4.3. Fields Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#templates">4.4. Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#managing-admin-service">4.5. Managing <tt class="docutils literal"><span class="pre">Admin</span></tt> Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="architecture.html#create-child-admins">4.6. Create child admins</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">5. Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#blocks">5.1. Blocks</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#the-admin-list-block">5.2. The <tt class="docutils literal"><span class="pre">Admin</span></tt> list block</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#configuring-the-admin-list">5.3. Configuring the <tt class="docutils literal"><span class="pre">Admin</span></tt> list</a></li>
<li class="toctree-l2"><a class="reference internal" href="dashboard.html#adding-more-blocks">5.4. Adding more Blocks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="search.html">6. Search</a><ul>
<li class="toctree-l2"><a class="reference internal" href="search.html#customization">6.1. Customization</a></li>
<li class="toctree-l2"><a class="reference internal" href="search.html#performance">6.2. Performance</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">7. The List View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-configuration">7.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-fields-displayed-on-the-list-page">7.2. Customizing the fields displayed on the list page</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-query-used-to-generate-the-list">7.3. Customizing the query used to generate the list</a></li>
<li class="toctree-l2"><a class="reference internal" href="#customizing-the-sort-order">7.4. Customizing the sort order</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filters">7.5. Filters</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_create_edit.html">8. Creating and Editing objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#basic-configuration">8.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#embedding-other-admins">8.2. Embedding other Admins</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_create_edit.html#customizing-just-one-of-the-actions">8.3. Customizing just one of the actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_show.html">9. The Show action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_show.html#basic-configuration">9.1. Basic configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="action_show.html#customising-the-query-used-to-show-the-object-from-within-your-admin-class">9.2. Customising the query used to show the object from within your Admin class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_show.html#setting-up-a-custom-show-template-very-useful">10. Setting up a custom show template (very useful)</a></li>
<li class="toctree-l1"><a class="reference internal" href="action_delete.html">11. Deleting objects</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_delete.html#basic-configuration">11.1. Basic configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="action_export.html">12. The Export action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="action_export.html#basic-configuration">12.1. Basic configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="saving_hooks.html">13. Saving hooks</a><ul>
<li class="toctree-l2"><a class="reference internal" href="saving_hooks.html#example-used-with-the-fos-userbundle">13.1. Example used with the FOS/UserBundle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="form_types.html">14. Form Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="form_types.html#admin-related-form-types">14.1. Admin related form types</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_types.html#types-options">14.2. Types options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="form_help_message.html">15. Form Help Messages and Descriptions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="form_help_message.html#help-messages">15.1. Help Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="form_help_message.html#form-group-descriptions">15.2. Form Group Descriptions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="field_types.html">16. Field Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="field_types.html#list-and-show-actions">16.1. List and Show Actions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="batch_actions.html">17. Batch actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#defining-new-actions">17.1. Defining new actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-overriding-the-batch-selection-template">17.2. (Optional) Overriding the batch selection template</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-overriding-the-default-relevancy-check-function">17.3. (Optional) Overriding the default relevancy check function</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#optional-executing-a-pre-batch-hook">17.4. (Optional) Executing a pre batch hook</a></li>
<li class="toctree-l2"><a class="reference internal" href="batch_actions.html#define-the-core-action-logic">17.5. Define the core action logic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="console.html">18. Console/Command-Line Commands</a><ul>
<li class="toctree-l2"><a class="reference internal" href="console.html#cache-create-cache-class">18.1. cache:create-cache-class</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-generate">18.2. sonata:admin:generate</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-list">18.3. sonata:admin:list</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-explain">18.4. sonata:admin:explain</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-setup-acl">18.5. sonata:admin:setup-acl</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html#sonata-admin-generate-object-acl">18.6. sonata:admin:generate-object-acl</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">19. Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#the-tostring-method">19.1. The toString method</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html#large-filters-and-long-urls-problem">19.2. Large filters and long urls problem</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="routing.html">1. Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="routing.html#routing-definition">1.1. Routing Definition</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#routing-usage">1.2. Routing usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#create-a-route">1.3. Create a route</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#removing-a-route">1.4. Removing a route</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#persistent-parameters">1.5. Persistent parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="routing.html#changing-the-default-route-in-a-list-action">1.6. Changing the default route in a List Action</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="translation.html">2. Translation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="translation.html#translate-field-labels">2.1. Translate field labels</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conditional_validation.html">3. Inline Validation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conditional_validation.html#troubleshooting">3.1. Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">4. Templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="templates.html#global-templates">4.1. Global Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#dashboard-template">4.2. Dashboard Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#crudcontroller-actions-templates">4.3. CRUDController Actions Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#row-templates">4.4. Row Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#other-templates">4.5. Other Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="templates.html#configuring-templates">4.6. Configuring templates</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">5. Security</a><ul>
<li class="toctree-l2"><a class="reference internal" href="security.html#user-management">5.1. User management</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#security-handlers">5.2. Security handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#role-handler">5.3. Role handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#acl-and-friendsofsymfony-userbundle">5.4. ACL and FriendsOfSymfony/UserBundle</a></li>
<li class="toctree-l2"><a class="reference internal" href="security.html#acl-editor">5.5. ACL editor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">6. Extensions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="extensions.html#configuration">6.1. Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">7. Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#configureevent">7.1. ConfigureEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#persistenceevent">7.2. PersistenceEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#configurequeryevent">7.3. ConfigureQueryEvent</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#blockevent">7.4. BlockEvent</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="advanced_configuration.html">8. Advanced configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#service-configuration">8.1. Service Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#inherited-classes">8.2. Inherited classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#dropdowns-in-tab-menu">8.3. Dropdowns in Tab Menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced_configuration.html#disable-content-stretching">8.4. Disable content stretching</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="preview_mode.html">9. Preview Mode</a><ul>
<li class="toctree-l2"><a class="reference internal" href="preview_mode.html#simulating-front-end-rendering">9.1. Simulating front-end rendering</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_select2.html">1. Select2</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#disable-select2">1.1. Disable select2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#disable-select2-on-some-form-elements">1.2. Disable select2 on some form elements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_select2.html#allowclear">1.3. AllowClear</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_knp_menu.html">2. KnpMenu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_knp_menu.html#add-a-custom-controller-entry-in-the-menu">2.1. Add a custom controller entry in the menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_knp_menu.html#using-a-menu-provider">2.2. Using a menu provider</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_file_uploads.html">3. Uploading and saving documents (including images) using DoctrineORM and SonataAdmin</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#pre-requisites">3.1. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#the-recipe">3.2. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_file_uploads.html#notes">3.3. Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_image_previews.html">4. Showing image previews</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#pre-requisites">4.1. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#the-recipe">4.2. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_image_previews.html#notes">4.3. Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_row_templates.html">5. Row templates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_row_templates.html#the-recipe">5.1. The recipe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html">6. Sortable behavior in admin listing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#background">6.1. Background</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#pre-requisites">6.2. Pre-requisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#the-recipe">6.3. The recipe</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_sortable_listing.html#further-work">6.4. Further work</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_dynamic_form_modification.html">7. Modifying form fields dynamically depending on edited object</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_custom_action.html">8. Creating a Custom Admin Action</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_custom_action.html#the-recipe">8.1. The recipe</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_customizing_a_mosaic_list.html">9. Customizing a mosaic list</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_overwrite_admin_configuration.html">10. Overwrite Admin Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cookbook/recipe_improve_performance_large_datasets.html">11. Improve performance of large datasets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cookbook/recipe_improve_performance_large_datasets.html#change-default-pager-to-simplepager">11.1. Change default Pager to SimplePager</a></li>
</ul>
</li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Sonata ~ AdminBundle</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
    <li>7. The List View</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/reference/action_list.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="the-list-view">
<h1>7. The List View<a class="headerlink" href="#the-list-view" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This document is a stub representing a new work in progress. If you&#8217;re reading
this you can help contribute, <strong>no matter what your experience level with Sonata
is</strong>. Check out the <a class="reference external" href="https://github.com/sonata-project/SonataAdminBundle/issues/1519">issues on GitHub</a> for more information about how to get involved.</p>
</div>
<p>This document will cover the List view which you use to browse the objects in your
system. It will cover configuration of the list itself and the filters you can use
to control what&#8217;s visible.</p>
<div class="section" id="basic-configuration">
<h2>7.1. Basic configuration<a class="headerlink" href="#basic-configuration" title="Permalink to this headline">¶</a></h2>
<p>SonataAdmin Options that may affect the list view:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">sonata_admin</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">templates</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">list</span><span class="p-Indicator">:</span>                       <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:list.html.twig</span>
        <span class="l-Scalar-Plain">action</span><span class="p-Indicator">:</span>                     <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:action.html.twig</span>
        <span class="l-Scalar-Plain">select</span><span class="p-Indicator">:</span>                     <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:list__select.html.twig</span>
        <span class="l-Scalar-Plain">list_block</span><span class="p-Indicator">:</span>                 <span class="l-Scalar-Plain">SonataAdminBundle:Block:block_admin_list.html.twig</span>
        <span class="l-Scalar-Plain">short_object_description</span><span class="p-Indicator">:</span>   <span class="l-Scalar-Plain">SonataAdminBundle:Helper:short-object-description.html.twig</span>
        <span class="l-Scalar-Plain">batch</span><span class="p-Indicator">:</span>                      <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:list__batch.html.twig</span>
        <span class="l-Scalar-Plain">inner_list_row</span><span class="p-Indicator">:</span>             <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:list_inner_row.html.twig</span>
        <span class="l-Scalar-Plain">base_list_field</span><span class="p-Indicator">:</span>            <span class="l-Scalar-Plain">SonataAdminBundle:CRUD:base_list_field.html.twig</span>
        <span class="l-Scalar-Plain">pager_links</span><span class="p-Indicator">:</span>                <span class="l-Scalar-Plain">SonataAdminBundle:Pager:links.html.twig</span>
        <span class="l-Scalar-Plain">pager_results</span><span class="p-Indicator">:</span>              <span class="l-Scalar-Plain">SonataAdminBundle:Pager:results.html.twig</span>
</pre></div>
</div>
<p>To do:</p>
<ul class="simple">
<li>a note about Routes and how disabling them disables the related action</li>
<li>adding custom columns</li>
</ul>
</div>
<div class="section" id="customizing-the-fields-displayed-on-the-list-page">
<h2>7.2. Customizing the fields displayed on the list page<a class="headerlink" href="#customizing-the-fields-displayed-on-the-list-page" title="Permalink to this headline">¶</a></h2>
<p>You can customize the columns displayed on the list through the <tt class="docutils literal"><span class="pre">configureListFields</span></tt> method:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="c1">// Example taken from Sonata E-Commerce Product Admin</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">configureListFields</span><span class="p">(</span><span class="nx">ListMapper</span> <span class="nv">$list</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$list</span>
        <span class="c1">// addIdentifier allows to specify that this column will provide a link to the entity&#39;s edition</span>
        <span class="o">-&gt;</span><span class="na">addIdentifier</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)</span>

        <span class="c1">// You may specify the field type directly as the second argument instead of in the options</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;isVariation&#39;</span><span class="p">,</span> <span class="s1">&#39;boolean&#39;</span><span class="p">)</span>

        <span class="c1">// The type can be guessed as well</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;enabled&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;editable&#39;</span> <span class="o">=&gt;</span> <span class="k">true</span><span class="p">))</span>

        <span class="c1">// We can add options to the field depending on the type</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="s1">&#39;currency&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;currency&#39;</span> <span class="o">=&gt;</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">currencyDetector</span><span class="o">-&gt;</span><span class="na">getCurrency</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">getLabel</span><span class="p">()))</span>

        <span class="c1">// Here we specify which method is used to render the label</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;productCategories&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;associated_tostring&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;getCategory&#39;</span><span class="p">))</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;productCollections&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;associated_tostring&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;getCollection&#39;</span><span class="p">))</span>

        <span class="c1">// You may also use dotted-notation to access specific properties of a relation to the entity</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;image.name&#39;</span><span class="p">)</span>

        <span class="c1">// You may also specify the actions you want to be displayed in the list</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;_action&#39;</span><span class="p">,</span> <span class="s1">&#39;actions&#39;</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;actions&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
                <span class="s1">&#39;show&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(),</span>
                <span class="s1">&#39;edit&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(),</span>
                <span class="s1">&#39;delete&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(),</span>
            <span class="p">)</span>
        <span class="p">))</span>

    <span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="options">
<h3>7.2.1. Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li><tt class="docutils literal"><span class="pre">(m)</span></tt> stands for mandatory</li>
<li><tt class="docutils literal"><span class="pre">(o)</span></tt> stands for optional</li>
</ul>
</div>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">type</span></tt> (m): defines the field type - mandatory for the field description itself but will try to detect the type automatically if not specified</li>
<li><tt class="docutils literal"><span class="pre">template</span></tt> (o): the template used to render the field</li>
<li><tt class="docutils literal"><span class="pre">label</span></tt> (o): the name used for the column&#8217;s title</li>
<li><tt class="docutils literal"><span class="pre">link_parameters</span></tt> (o): add link parameter to the related Admin class when the <tt class="docutils literal"><span class="pre">Admin::generateUrl</span></tt> is called</li>
<li><tt class="docutils literal"><span class="pre">code</span></tt> (o): the method name to retrieve the related value</li>
<li><tt class="docutils literal"><span class="pre">associated_tostring</span></tt> (o): (deprecated, use associated_property option) the method to retrieve the &#8220;string&#8221; representation of the collection element.</li>
<li><tt class="docutils literal"><span class="pre">associated_property</span></tt> (o): property path to retrieve the &#8220;string&#8221; representation of the collection element, or a closure with the element as argument and return a string.</li>
<li><tt class="docutils literal"><span class="pre">identifier</span></tt> (o): if set to true a link appears on the value to edit the element</li>
</ul>
</div>
<div class="section" id="available-types-and-associated-options">
<h3>7.2.2. Available types and associated options<a class="headerlink" href="#available-types-and-associated-options" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><tt class="docutils literal"><span class="pre">(m)</span></tt> means that option is mandatory</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="11%" />
<col width="16%" />
<col width="72%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Options</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>actions</td>
<td>actions</td>
<td>List of available actions</td>
</tr>
<tr class="row-odd"><td>batch</td>
<td>&nbsp;</td>
<td>Renders a checkbox</td>
</tr>
<tr class="row-even"><td>select</td>
<td>&nbsp;</td>
<td>Renders a select box</td>
</tr>
<tr class="row-odd"><td>array</td>
<td>&nbsp;</td>
<td>Displays an array</td>
</tr>
<tr class="row-even"><td>boolean</td>
<td>ajax_hidden</td>
<td>Yes/No; ajax_hidden allows to hide list field during an AJAX context.</td>
</tr>
<tr class="row-odd"><td>boolean</td>
<td>editable</td>
<td>Yes/No; editable allows to edit directly from the list if authorized.</td>
</tr>
<tr class="row-even"><td rowspan="4">choice</td>
<td>choices</td>
<td>Possible choices</td>
</tr>
<tr class="row-odd"><td>multiple</td>
<td>Is it a multiple choice option? Defaults to false.</td>
</tr>
<tr class="row-even"><td>delimiter</td>
<td>Separator of values if multiple.</td>
</tr>
<tr class="row-odd"><td>catalogue</td>
<td>Translation catalogue.</td>
</tr>
<tr class="row-even"><td>currency</td>
<td>currency (m)</td>
<td>A currency string (EUR or USD for instance).</td>
</tr>
<tr class="row-odd"><td>date</td>
<td>format</td>
<td>A format understandable by Twig&#8217;s <tt class="docutils literal"><span class="pre">date</span></tt> function.</td>
</tr>
<tr class="row-even"><td>datetime</td>
<td>format</td>
<td>A format understandable by Twig&#8217;s <tt class="docutils literal"><span class="pre">date</span></tt> function.</td>
</tr>
<tr class="row-odd"><td>percent</td>
<td>&nbsp;</td>
<td>Renders value as a percentage.</td>
</tr>
<tr class="row-even"><td>string</td>
<td>&nbsp;</td>
<td>Renders a simple string.</td>
</tr>
<tr class="row-odd"><td>time</td>
<td>&nbsp;</td>
<td>Renders a datetime&#8217;s time with format <tt class="docutils literal"><span class="pre">H:i:s</span></tt>.</td>
</tr>
<tr class="row-even"><td>trans</td>
<td>catalogue</td>
<td>Translates the value with catalogue <tt class="docutils literal"><span class="pre">catalogue</span></tt> if defined.</td>
</tr>
<tr class="row-odd"><td rowspan="5">url</td>
<td>url</td>
<td>Adds a link with url <tt class="docutils literal"><span class="pre">url</span></tt> to the displayed value</td>
</tr>
<tr class="row-even"><td rowspan="3"><p class="first">route</p>
<blockquote class="last">
<div><p>name</p>
<p>parameters</p>
</div></blockquote>
</td>
<td rowspan="3"><p class="first">Give a route to generate the url</p>
<p>Route name</p>
<p class="last">Route parameters</p>
</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"></tr>
<tr class="row-odd"><td>hide_protocol</td>
<td>Hide <a class="reference external" href="http://">http://</a> or <a class="reference external" href="https://">https://</a> (default false)</td>
</tr>
</tbody>
</table>
<p>If you have the SonataDoctrineORMAdminBundle installed, you have access to more field types, see <a class="reference external" href="https://sonata-project.org/bundles/doctrine-orm-admin/master/doc/reference/list_field_definition.html">SonataDoctrineORMAdminBundle Documentation</a>.</p>
</div>
</div>
<div class="section" id="customizing-the-query-used-to-generate-the-list">
<h2>7.3. Customizing the query used to generate the list<a class="headerlink" href="#customizing-the-query-used-to-generate-the-list" title="Permalink to this headline">¶</a></h2>
<p>You can customize the list query thanks to the <tt class="docutils literal"><span class="pre">createQuery</span></tt> method.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">public</span> <span class="k">function</span> <span class="nf">createQuery</span><span class="p">(</span><span class="nv">$context</span> <span class="o">=</span> <span class="s1">&#39;list&#39;</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$query</span> <span class="o">=</span> <span class="k">parent</span><span class="o">::</span><span class="na">createQuery</span><span class="p">(</span><span class="nv">$context</span><span class="p">);</span>
    <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">andWhere</span><span class="p">(</span>
        <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">expr</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">eq</span><span class="p">(</span><span class="nv">$query</span><span class="o">-&gt;</span><span class="na">getRootAliases</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span> <span class="o">.</span> <span class="s1">&#39;.my_field&#39;</span><span class="p">,</span> <span class="s1">&#39;:my_param&#39;</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="nv">$query</span><span class="o">-&gt;</span><span class="na">setParameter</span><span class="p">(</span><span class="s1">&#39;my_param&#39;</span><span class="p">,</span> <span class="s1">&#39;my_value&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="nv">$query</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="customizing-the-sort-order">
<h2>7.4. Customizing the sort order<a class="headerlink" href="#customizing-the-sort-order" title="Permalink to this headline">¶</a></h2>
<div class="section" id="configure-the-default-ordering-in-the-list-view">
<h3>7.4.1. Configure the default ordering in the list view<a class="headerlink" href="#configure-the-default-ordering-in-the-list-view" title="Permalink to this headline">¶</a></h3>
<p>Configuring the default ordering column can simply be achieved by overriding
the <tt class="docutils literal"><span class="pre">datagridValues</span></tt> array property. All three keys <tt class="docutils literal"><span class="pre">_page</span></tt>, <tt class="docutils literal"><span class="pre">_sort_order</span></tt> and
<tt class="docutils literal"><span class="pre">_sort_by</span></tt> can be omitted.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Admin\Admin</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">PageAdmin</span> <span class="k">extends</span> <span class="nx">Admin</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="sd">/**</span>
<span class="sd">     * Default Datagrid values</span>
<span class="sd">     *</span>
<span class="sd">     * @var array</span>
<span class="sd">     */</span>
    <span class="k">protected</span> <span class="nv">$datagridValues</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;_page&#39;</span> <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>            <span class="c1">// display the first page (default = 1)</span>
        <span class="s1">&#39;_sort_order&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;DESC&#39;</span><span class="p">,</span> <span class="c1">// reverse order (default = &#39;ASC&#39;)</span>
        <span class="s1">&#39;_sort_by&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;updated&#39;</span>  <span class="c1">// name of the ordered field</span>
                                 <span class="c1">// (default = the model&#39;s id field, if any)</span>

        <span class="c1">// the &#39;_sort_by&#39; key can be of the form &#39;mySubModel.mySubSubModel.myField&#39;.</span>
    <span class="p">);</span>

    <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<p>To do:</p>
<ul class="simple">
<li>how to sort by multiple fields (this might be a separate recipe?)</li>
</ul>
</div>
</div>
<div class="section" id="filters">
<h2>7.5. Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h2>
<p>You can add filters to let user control which data will be displayed.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// src/Acme/DemoBundle/Admin/PostAdmin.php</span>

<span class="k">use</span> <span class="nx">Sonata\AdminBundle\Datagrid\DatagridMapper</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">ClientAdmin</span> <span class="k">extends</span> <span class="nx">Admin</span>
<span class="p">{</span>

    <span class="k">protected</span> <span class="k">function</span> <span class="nf">configureDatagridFilters</span><span class="p">(</span><span class="nx">DatagridMapper</span> <span class="nv">$datagridMapper</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$datagridMapper</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
            <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">)</span>
        <span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>All filters are hidden by default for space-saving. User has to check which filter he wants to use.</p>
<p>To make the filter always visible (even when it is inactive), set the parameter
<tt class="docutils literal"><span class="pre">show_filter</span></tt> to <tt class="docutils literal"><span class="pre">true</span></tt>.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">protected</span> <span class="k">function</span> <span class="nf">configureDatagridFilters</span><span class="p">(</span><span class="nx">DatagridMapper</span> <span class="nv">$datagridMapper</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$datagridMapper</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;phone&#39;</span><span class="p">)</span>
        <span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="k">null</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;show_filter&#39;</span><span class="o">=&gt;</span><span class="k">true</span><span class="p">))</span>
    <span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>By default the template generates an <tt class="docutils literal"><span class="pre">operator</span></tt> for a filter which defaults to <tt class="docutils literal"><span class="pre">sonata_type_equal</span></tt>.
Though this <tt class="docutils literal"><span class="pre">operator_type</span></tt> is automatically detected it can be changed or even be hidden:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">protected function configureDatagridFilters(DatagridMapper $datagridMapper)</span>
<span class="x">{</span>
<span class="x">    $datagridMapper</span>
<span class="x">        -&gt;add(&#39;foo&#39;, null, array(&#39;operator_type&#39; =&gt; &#39;sonata_type_boolean&#39;))</span>
<span class="x">        -&gt;add(&#39;bar&#39;, null, array(&#39;operator_type&#39; =&gt; &#39;hidden&#39;))</span>
<span class="x">    ;</span>
<span class="x">}</span>
</pre></div>
</div>
<p>If you don&#8217;t need the advanced filters, or all your <tt class="docutils literal"><span class="pre">operator_type</span></tt> are hidden, you can disable them by setting
<tt class="docutils literal"><span class="pre">advanced_filter</span></tt> to <tt class="docutils literal"><span class="pre">false</span></tt>. You need to disable all advanced filters to make the button disappear.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">protected function configureDatagridFilters(DatagridMapper $datagridMapper)</span>
<span class="x">{</span>
<span class="x">    $datagridMapper</span>
<span class="x">        -&gt;add(&#39;bar&#39;, null, array(&#39;operator_type&#39; =&gt; &#39;hidden&#39;, &#39;advanced_filter&#39; =&gt; false))</span>
<span class="x">    ;</span>
<span class="x">}</span>
</pre></div>
</div>
<div class="section" id="default-filters">
<h3>7.5.1. Default filters<a class="headerlink" href="#default-filters" title="Permalink to this headline">¶</a></h3>
<p>Default filters can be added to the datagrid values by overriding the <tt class="docutils literal"><span class="pre">$datagridValues</span></tt> property which is also used for default sorting.
A filter has a <tt class="docutils literal"><span class="pre">value</span></tt> and an optional <tt class="docutils literal"><span class="pre">type</span></tt>. If no <tt class="docutils literal"><span class="pre">type</span></tt> is given the default type <tt class="docutils literal"><span class="pre">is</span> <span class="pre">equal</span></tt> is used.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">protected $datagridValues = array(</span>
<span class="x">    &#39;_page&#39; =&gt; 1,</span>
<span class="x">    &#39;_sort_order&#39; =&gt; &#39;ASC&#39;,</span>
<span class="x">    &#39;_sort_by&#39; =&gt; &#39;id&#39;,</span>
<span class="x">    &#39;foo&#39; =&gt; array(&#39;value&#39; =&gt; &#39;bar&#39;)</span>
<span class="x">);</span>
</pre></div>
</div>
<p>Available types are represented through classes which can be found here:
<a class="reference external" href="https://github.com/sonata-project/SonataCoreBundle/tree/master/Form/Type">https://github.com/sonata-project/SonataCoreBundle/tree/master/Form/Type</a></p>
<p>Types like <tt class="docutils literal"><span class="pre">equal</span></tt> and <tt class="docutils literal"><span class="pre">boolean</span></tt> use constants to assign a choice of <tt class="docutils literal"><span class="pre">type</span></tt> to an <tt class="docutils literal"><span class="pre">integer</span></tt> for its <tt class="docutils literal"><span class="pre">value</span></tt>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">class EqualType extends AbstractType</span>
<span class="x">{</span>
<span class="x">    const TYPE_IS_EQUAL = 1;</span>
<span class="x">    const TYPE_IS_NOT_EQUAL = 2;</span>
<span class="x">}</span>
</pre></div>
</div>
<p>The integers are then passed in the URL of the list action e.g.:
<strong>/admin/user/user/list?filter[enabled][type]=1&amp;filter[enabled][value]=1</strong></p>
<p>This is an example using these constants for an <tt class="docutils literal"><span class="pre">boolean</span></tt> type:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">use Sonata\UserBundle\Admin\Model\UserAdmin as SonataUserAdmin;</span>
<span class="x">use SonataCoreBundle/blob/master/Form/Type/EqualType.php;</span>
<span class="x">use SonataCoreBundle/blob/master/Form/Type/BooleanType;</span>

<span class="x">class UserAdmin extends SonataUserAdmin</span>
<span class="x">{</span>
<span class="x">    protected $datagridValues = array(</span>
<span class="x">        &#39;enabled&#39; =&gt; array(</span>
<span class="x">            &#39;type&#39;  =&gt; EqualType::TYPE_IS_EQUAL, // =&gt; 1</span>
<span class="x">            &#39;value&#39; =&gt; BooleanType::TYPE_YES     // =&gt; 1</span>
<span class="x">        )</span>
<span class="x">    );</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Please note that setting a <tt class="docutils literal"><span class="pre">false</span></tt> value on a the <tt class="docutils literal"><span class="pre">boolean</span></tt> type will not work since the type expects an integer of  <tt class="docutils literal"><span class="pre">2</span></tt> as <tt class="docutils literal"><span class="pre">value</span></tt> as defined in the class constants:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">class BooleanType extends AbstractType</span>
<span class="x">{</span>
<span class="x">    const TYPE_YES = 1;</span>
<span class="x">    const TYPE_NO = 2;</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Default filters can also be added to the datagrid values by overriding the <tt class="docutils literal"><span class="pre">getFilterParameters</span></tt> method.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">use SonataCoreBundle/blob/master/Form/Type/EqualType.php;</span>
<span class="x">use SonataCoreBundle/blob/master/Form/Type/BooleanType;</span>

<span class="x">class UserAdmin extends SonataUserAdmin</span>
<span class="x">{</span>
<span class="x">    public function getFilterParameters()</span>
<span class="x">    {</span>
<span class="x">        $this-&gt;datagridValues = array_merge(array(</span>
<span class="x">                &#39;enabled&#39; =&gt; array (</span>
<span class="x">                    &#39;type&#39;  =&gt; EqualType::TYPE_IS_EQUAL,</span>
<span class="x">                    &#39;value&#39; =&gt; BooleanType::TYPE_YES</span>
<span class="x">                )</span>
<span class="x">            ), $this-&gt;datagridValues);</span>

<span class="x">        return parent::getFilterParameters();</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>This approach is useful when you need to create dynamic filters.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">class PostAdmin extends SonataUserAdmin</span>
<span class="x">{</span>
<span class="x">    public function getFilterParameters()</span>
<span class="x">    {</span>
<span class="x">        // Assuming security context injected</span>
<span class="x">        if (!$this-&gt;securityContext-&gt;isGranted(&#39;ROLE_ADMIN&#39;)) {</span>
<span class="x">            $user = $this-&gt;securityContext-&gt;getToken()-&gt;getUser();</span>

<span class="x">            $this-&gt;datagridValues = array_merge(array(</span>
<span class="x">                    &#39;author&#39; =&gt; array (</span>
<span class="x">                        &#39;type&#39;  =&gt; EqualType::TYPE_IS_EQUAL,</span>
<span class="x">                        &#39;value&#39; =&gt; $user-&gt;getId()</span>
<span class="x">                    )</span>
<span class="x">                ), $this-&gt;datagridValues);</span>
<span class="x">        }</span>

<span class="x">        return parent::getFilterParameters();</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>Please note that this is not a secure approach to hide posts from others. It&#8217;s just an example for setting filters on demand.</p>
</div>
<div class="section" id="callback-filter">
<h3>7.5.2. Callback filter<a class="headerlink" href="#callback-filter" title="Permalink to this headline">¶</a></h3>
<p>If you have the <strong>SonataDoctrineORMAdminBundle</strong> installed you can use the <tt class="docutils literal"><span class="pre">doctrine_orm_callback</span></tt> filter type e.g. for creating a full text filter:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">use Sonata\UserBundle\Admin\Model\UserAdmin as SonataUserAdmin;</span>
<span class="x">use Sonata\AdminBundle\Datagrid\DatagridMapper;</span>

<span class="x">class UserAdmin extends SonataUserAdmin</span>
<span class="x">{</span>
<span class="x">    protected function configureDatagridFilters(DatagridMapper $datagridMapper)</span>
<span class="x">    {</span>
<span class="x">        $datagridMapper</span>
<span class="x">            -&gt;add(&#39;full_text&#39;, &#39;doctrine_orm_callback&#39;, array(</span>
<span class="x">                &#39;callback&#39; =&gt; array($this, &#39;getFullTextFilter&#39;),</span>
<span class="x">                &#39;field_type&#39; =&gt; &#39;text&#39;</span>
<span class="x">            ));</span>
<span class="x">    }</span>

<span class="x">    public function getFullTextFilter($queryBuilder, $alias, $field, $value)</span>
<span class="x">    {</span>
<span class="x">        if (!$value[&#39;value&#39;]) {</span>
<span class="x">            return;</span>
<span class="x">        }</span>

<span class="x">        // Use `andWhere` instead of `where` to prevent overriding existing `where` conditions</span>
<span class="x">        $queryBuilder-&gt;andWhere($queryBuilder-&gt;expr()-&gt;orX(</span>
<span class="x">            $queryBuilder-&gt;expr()-&gt;like($alias.&#39;.username&#39;, $queryBuilder-&gt;expr()-&gt;literal(&#39;%&#39; . $value[&#39;value&#39;] . &#39;%&#39;)),</span>
<span class="x">            $queryBuilder-&gt;expr()-&gt;like($alias.&#39;.firstName&#39;, $queryBuilder-&gt;expr()-&gt;literal(&#39;%&#39; . $value[&#39;value&#39;] . &#39;%&#39;)),</span>
<span class="x">            $queryBuilder-&gt;expr()-&gt;like($alias.&#39;.lastName&#39;, $queryBuilder-&gt;expr()-&gt;literal(&#39;%&#39; . $value[&#39;value&#39;] . &#39;%&#39;))</span>
<span class="x">        ));</span>

<span class="x">        return true;</span>
<span class="x">    }</span>
<span class="x">}</span>
</pre></div>
</div>
<p>To do:</p>
<ul class="simple">
<li>basic filter configuration and options</li>
<li>targeting submodel fields using dot-separated notation</li>
<li>advanced filter options (global_search)</li>
</ul>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="action_create_edit.html" class="btn btn-neutral float-right" title="8. Creating and Editing objects"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="search.html" class="btn btn-neutral" title="6. Search"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2010-2014, Thomas Rabaix.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>